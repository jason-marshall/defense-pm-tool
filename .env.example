# =============================================================================
# Defense PM Tool - Environment Configuration
# =============================================================================
# Copy this file to .env and update values for your environment.
#
# Usage:
#   cp .env.example .env
#   # Edit .env with your values
#   docker-compose up -d
#
# IMPORTANT: Never commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=Defense PM Tool
APP_VERSION=0.1.0

# Environment: development | staging | production
# Controls logging verbosity, debug features, and security settings
ENVIRONMENT=development

# Enable debug mode (detailed error messages, SQL logging)
# WARNING: Disable in production!
DEBUG=true

# API version prefix for all endpoints
API_V1_PREFIX=/api/v1

# -----------------------------------------------------------------------------
# Server Settings
# -----------------------------------------------------------------------------
# Host to bind the server to (0.0.0.0 for Docker, 127.0.0.1 for local only)
HOST=0.0.0.0

# Port for the API server
PORT=8000

# -----------------------------------------------------------------------------
# Database Settings (PostgreSQL)
# -----------------------------------------------------------------------------
# Connection URL format: postgresql://user:password@host:port/database
#
# For local development (running API outside Docker):
#   DATABASE_URL=postgresql://dev_user:dev_password@localhost:5432/defense_pm_dev
#
# For Docker Compose (API running in container):
#   DATABASE_URL=postgresql://dev_user:dev_password@postgres:5432/defense_pm_dev
#
DATABASE_URL=postgresql://dev_user:dev_password@localhost:5432/defense_pm_dev

# Connection pool settings
# MIN_SIZE: Minimum connections to keep open
# MAX_SIZE: Maximum connections allowed
# RECYCLE: Seconds before recycling a connection (prevents stale connections)
DATABASE_POOL_MIN_SIZE=5
DATABASE_POOL_MAX_SIZE=20
DATABASE_POOL_RECYCLE=3600

# Log all SQL queries (useful for debugging, disable in production)
DATABASE_ECHO=false

# -----------------------------------------------------------------------------
# Cache Settings (Redis)
# -----------------------------------------------------------------------------
# Connection URL format: redis://host:port/db_number
#
# For local development (running API outside Docker):
#   REDIS_URL=redis://localhost:6379/0
#
# For Docker Compose (API running in container):
#   REDIS_URL=redis://redis:6379/0
#
REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------
# JWT signing key - MUST be changed in production!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Minimum 32 characters required
SECRET_KEY=change-this-to-a-secure-random-string-in-production

# JWT token expiration times
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# JWT algorithm (HS256 recommended for symmetric keys)
ALGORITHM=HS256

# Password hashing cost factor (12 is a good balance of security and speed)
# Higher = more secure but slower
BCRYPT_ROUNDS=12

# -----------------------------------------------------------------------------
# CORS Settings
# -----------------------------------------------------------------------------
# Allowed origins for cross-origin requests (comma-separated)
# Include your frontend URLs here
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173,http://127.0.0.1:3000

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Log level: DEBUG | INFO | WARNING | ERROR | CRITICAL
# Use DEBUG for development, INFO or WARNING for production
LOG_LEVEL=DEBUG

# -----------------------------------------------------------------------------
# Docker-Specific Settings
# -----------------------------------------------------------------------------
# These are used by docker-compose.yml and can be overridden here

# PostgreSQL container settings (used on first initialization only)
POSTGRES_DB=defense_pm_dev
POSTGRES_USER=dev_user
POSTGRES_PASSWORD=dev_password

# =============================================================================
# Production Checklist
# =============================================================================
# Before deploying to production, ensure:
# [ ] ENVIRONMENT=production
# [ ] DEBUG=false
# [ ] SECRET_KEY is a secure random string (32+ chars)
# [ ] DATABASE_URL points to production database
# [ ] DATABASE_ECHO=false
# [ ] REDIS_URL points to production Redis
# [ ] CORS_ORIGINS only includes your production domains
# [ ] LOG_LEVEL=INFO or WARNING
# [ ] BCRYPT_ROUNDS=12 or higher
# =============================================================================
