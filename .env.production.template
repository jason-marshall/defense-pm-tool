# =============================================================================
# Defense PM Tool - Production Environment Template
# =============================================================================
# Copy this file to .env.production and fill in all required values.
# NEVER commit .env.production to version control!
#
# Generate secrets with:
#   python -c "import secrets; print(secrets.token_urlsafe(64))"
# =============================================================================

# =============================================================================
# REQUIRED - Must be set before deployment
# =============================================================================

# -----------------------------------------------------------------------------
# Security (CRITICAL - Generate unique values!)
# -----------------------------------------------------------------------------
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=<GENERATE_SECURE_SECRET_KEY>

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# For managed services (AWS RDS, Azure Database, Cloud SQL):
DATABASE_URL=postgresql+asyncpg://username:password@hostname:5432/defense_pm_prod?sslmode=require

# For self-hosted (used by docker-compose.selfhosted.yml):
DB_USER=defense_pm
DB_PASSWORD=<GENERATE_SECURE_PASSWORD_32_CHARS>
DB_NAME=defense_pm_prod

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# For managed services (ElastiCache, Azure Cache, Memorystore):
REDIS_URL=redis://:password@hostname:6379/0

# For self-hosted (used by docker-compose.selfhosted.yml):
REDIS_PASSWORD=<GENERATE_SECURE_PASSWORD_32_CHARS>

# -----------------------------------------------------------------------------
# CORS - Allowed Origins
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins for CORS
CORS_ORIGINS=https://app.defense-pm-tool.com,https://www.defense-pm-tool.com

# =============================================================================
# OPTIONAL - Defaults provided (adjust as needed)
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
ENVIRONMENT=production
DEBUG=false
VERSION=1.0.0
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Database Pool Settings
# -----------------------------------------------------------------------------
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# -----------------------------------------------------------------------------
# Authentication Settings
# -----------------------------------------------------------------------------
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true

# =============================================================================
# DEPLOYMENT NOTES
# =============================================================================
#
# 1. Generate all secrets before deployment:
#    python -c "import secrets; print('SECRET_KEY:', secrets.token_urlsafe(64))"
#    python -c "import secrets; print('DB_PASSWORD:', secrets.token_urlsafe(32))"
#    python -c "import secrets; print('REDIS_PASSWORD:', secrets.token_urlsafe(32))"
#
# 2. For managed database services:
#    - Enable SSL/TLS connections
#    - Configure proper security groups/firewall rules
#    - Enable automated backups
#    - Use connection pooling if available
#
# 3. For managed Redis services:
#    - Enable TLS encryption
#    - Configure authentication
#    - Enable persistence if needed
#
# 4. Security best practices:
#    - Never commit this file with real values
#    - Rotate secrets periodically (especially SECRET_KEY)
#    - Use environment-specific files (.env.staging, .env.production)
#    - Consider using Docker secrets or Vault for sensitive values
#
# =============================================================================
