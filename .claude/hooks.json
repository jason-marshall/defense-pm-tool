{
  "$schema": "https://claude.ai/schemas/hooks.json",
  "hooks": {
    "PostToolExecution": [
      {
        "event": "Write",
        "pattern": "**/*.py",
        "command": "ruff check --fix $FILE && ruff format $FILE",
        "description": "Auto-format Python files after editing"
      },
      {
        "event": "Write",
        "pattern": "**/*.{ts,tsx}",
        "command": "cd web && npx prettier --write $FILE && npx eslint --fix $FILE",
        "description": "Auto-format TypeScript/React files after editing"
      }
    ],
    "PreCommit": [
      {
        "command": "cd api && ruff check src tests",
        "description": "Run Python linting before commit"
      },
      {
        "command": "cd api && mypy src --ignore-missing-imports",
        "description": "Run type checking before commit"
      },
      {
        "command": "cd api && pytest tests/unit -q --tb=no",
        "description": "Run unit tests before commit"
      }
    ]
  }
}
